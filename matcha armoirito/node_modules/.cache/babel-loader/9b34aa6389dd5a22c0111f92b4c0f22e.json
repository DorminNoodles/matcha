{"ast":null,"code":"import _objectSpread from \"/Users/Nguyen/Desktop/loic/matcha/matcha armoirito/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/Nguyen/Desktop/loic/matcha/matcha armoirito/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Nguyen/Desktop/loic/matcha/matcha armoirito/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Nguyen/Desktop/loic/matcha/matcha armoirito/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Nguyen/Desktop/loic/matcha/matcha armoirito/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Nguyen/Desktop/loic/matcha/matcha armoirito/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/Nguyen/Desktop/loic/matcha/matcha armoirito/src/components/clientMessage.js\";\n//React\nimport React, { Component, createRef } from 'react'; //Image\n\nimport Sha from '../image/sha.jpg'; //Nav \n\nimport Nav from './parts/nav'; //Header\n\nimport Header from './parts/header'; //Style\n\nimport '../style/clientMessage.css';\nimport '../style/client.css';\n\nvar Message =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Message, _Component);\n\n  function Message() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Message);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Message)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      messagecurrent: '',\n      message: {},\n      pseudo: 'micka',\n      lenght: 140,\n      messageRest: 140\n    };\n    _this.autoScroll = createRef();\n\n    _this.creacteMessage = function () {\n      var message = {\n        pseudo: _this.state.pseudo,\n        message: _this.state.messagecurrent\n      };\n      return message;\n    };\n\n    _this.addMessage = function () {\n      var message = _objectSpread({}, _this.state.message);\n\n      message[\"message-\".concat(Date.now())] = _this.creacteMessage();\n\n      _this.setState({\n        message: message\n      });\n\n      _this.setState({\n        messagecurrent: '',\n        messageRest: 140\n      });\n    };\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n\n      _this.addMessage();\n    };\n\n    _this.handleChange = function (event) {\n      var messagecurrent = event.target.value;\n      var messageRest = _this.state.lenght - messagecurrent.length;\n\n      _this.setState({\n        messagecurrent: messagecurrent,\n        messageRest: messageRest\n      });\n\n      console.log(messagecurrent);\n    };\n\n    _this.keyUpp = function (event) {\n      if (event.key === 'Enter') {\n        console.log(event.key);\n        console.log(_this.state.messagecurrent.length);\n        console.log(_this.state.messagecurrent.value);\n\n        _this.addMessage();\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Message, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var scrollDom = this.autoScroll.current;\n      console.log(scrollDom);\n      console.log(scrollDom.scrollTop);\n      scrollDom.scrollTop = scrollDom.scrollHeight;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var message = Object.keys(this.state.message).map(function (key) {\n        return React.createElement(\"div\", {\n          key: key,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"message-actif testb\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"picture-cli \",\n          style: {\n            backgroundImage: \"url(\".concat(Sha, \")\")\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"message-cli testb\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, _this2.state.message[key].message)));\n      });\n      return React.createElement(\"div\", {\n        className: \"global\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"menu_main \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(Nav, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"main-title \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"personal testb \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"center-personal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"title-message \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"position-title \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"Messages\")))), React.createElement(\"div\", {\n        className: \"testb message-global\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"message-client testb\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"message\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"message-top testb\",\n        ref: this.autoScroll,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, message), React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        className: \"message-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"textarea\", {\n        maxLength: \"140\",\n        value: this.state.messagecurrent,\n        onChange: this.handleChange,\n        onKeyUp: this.keyUpp,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"button-message-center testb\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, this.state.messageRest), React.createElement(\"input\", {\n        className: \"button-message-send\",\n        type: \"submit\",\n        value: \"Envoyer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"mes-client\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, \"pp\"))))));\n    }\n  }]);\n\n  return Message;\n}(Component);\n\nexport default Message;","map":{"version":3,"sources":["/Users/Nguyen/Desktop/loic/matcha/matcha armoirito/src/components/clientMessage.js"],"names":["React","Component","createRef","Sha","Nav","Header","Message","state","messagecurrent","message","pseudo","lenght","messageRest","autoScroll","creacteMessage","addMessage","Date","now","setState","handleSubmit","event","preventDefault","handleChange","target","value","length","console","log","keyUpp","key","scrollDom","current","scrollTop","scrollHeight","Object","keys","map","backgroundImage"],"mappings":"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","sourcesContent":["//React\nimport React, {Component, createRef} from 'react'\n\n//Image\n\nimport Sha from '../image/sha.jpg'\n\n\n//Nav \nimport Nav from './parts/nav'\n\n//Header\n\nimport Header from './parts/header'\n\n//Style\nimport '../style/clientMessage.css'\nimport '../style/client.css'\n\nclass Message extends Component {\n\n    state = {\n        messagecurrent : '',\n        message : {},\n        pseudo: 'micka',\n        lenght : 140,\n        messageRest : 140,\n\n        \n    }\n\n    componentDidUpdate() {\n        const scrollDom = this.autoScroll.current\n        console.log(scrollDom)\n        console.log(scrollDom.scrollTop)\n        scrollDom.scrollTop = scrollDom.scrollHeight\n    }\n\n    autoScroll = createRef()\n\n   \n    creacteMessage = () => {\n        const message = {\n            pseudo : this.state.pseudo,\n            message : this.state.messagecurrent\n        }\n        return message\n\n    }\n\n    addMessage = () => {\n        const message = {...this.state.message}\n        message[`message-${Date.now()}`] = this.creacteMessage()\n        this.setState({message : message})\n        this.setState({messagecurrent : '', messageRest : 140})\n    }\n\n    handleSubmit = (event) => {\n        event.preventDefault()\n        this.addMessage()\n        \n    }\n\n    handleChange = (event) => {\n        const messagecurrent = event.target.value\n        let messageRest = this.state.lenght - messagecurrent.length\n        this.setState({messagecurrent : messagecurrent, messageRest : messageRest})\n        console.log(messagecurrent)\n\n        \n        }\n\n    keyUpp = (event) => {\n        if (event.key === 'Enter'  ){\n            console.log(event.key);\n            console.log(this.state.messagecurrent.length);\n            console.log(this.state.messagecurrent.value);\n            this.addMessage()\n        }        \n    }\n    \n    render () {\n    const message = Object\n                    .keys(this.state.message)\n                    .map( key => (\n                        <div key={key} >\n                            <div className='message-actif testb'>\n                                <div className='picture-cli ' style={{ backgroundImage: `url(${Sha})`}}></div>\n                                <div className='message-cli testb'>{this.state.message[key].message}</div>\n                            </div>\n                        </div>\n                    ))\n\n                    \n\n        return (\n            <div className=\"global\">\n                <div className=\"menu_main \">\n                    <Nav />\n                    <div className=\"main-title \">\n                        <Header />\n                        <div className='personal testb '>\n                            <div className='center-personal'>\n                                <div className='title-message '>\n                                    <div className='position-title '>\n                                        Messages\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div className='testb message-global'>\n                        \n                            <div className='message-client testb'>\n                                <div className='message'>\n                                    <div className='message-top testb' ref={this.autoScroll}>\n                                        {message}\n                                    </div>\n                                    <form onSubmit={this.handleSubmit} className='message-button'>\n                                        <textarea \n                                            maxLength='140'\n                                            value={this.state.messagecurrent}\n                                            onChange={this.handleChange}\n                                            onKeyUp={this.keyUpp}\n                                        >\n                                        </textarea>\n                                        <div  className='button-message-center testb'>\n                                            <div  >{this.state.messageRest}</div>\n                                            <input className='button-message-send'\n                                                type='submit'\n                                                value='Envoyer'/>\n                                        </div>\n                                    </form>\n                                </div>\n                                <div className='mes-client'>\n                                pp\n                                </div>\n                            </div>\n                            \n                        </div>\n\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Message"]},"metadata":{},"sourceType":"module"}